# py-captions-for-channels Configuration
# Copy this file to .env and customize for your environment

# ==============================================================================
# CHANNELS DVR CONFIGURATION
# ==============================================================================

# Channels DVR API endpoint
# Default: http://localhost:8089
CHANNELS_API_URL=http://192.168.3.150:8089

# DVR recordings storage path (for Docker volume mount)
# This should be the path on the HOST machine where recordings are stored
# Default: /recordings
DVR_RECORDINGS_PATH=/tank/AllMedia/Channels

# ==============================================================================
# CHANNELWATCH CONFIGURATION
# ==============================================================================

# ChannelWatch WebSocket endpoint (usually not needed - webhooks are preferred)
# Default: ws://localhost:8501/events
CHANNELWATCH_URL=ws://192.168.3.150:8501/events

# ==============================================================================
# EVENT SOURCE CONFIGURATION
# ==============================================================================

# Use mock event source for testing (true/false)
# Default: false
USE_MOCK=false

# Use webhook receiver for production (true/false)
# Default: true
USE_WEBHOOK=true

# ==============================================================================
# WEBHOOK SERVER CONFIGURATION
# ==============================================================================

# Host to bind webhook server to
# Default: 0.0.0.0 (all interfaces)
WEBHOOK_HOST=0.0.0.0

# Port for webhook server
# Default: 9000
# Configure in ChannelWatch as: json://<your-host-ip>:9000
WEBHOOK_PORT=9000

# ==============================================================================
# CAPTION PIPELINE CONFIGURATION
# ==============================================================================

# Caption command template
# {path} will be replaced with the recording file path
# Default: echo "Would process: {path}"
CAPTION_COMMAND=/usr/local/bin/whisper --model medium {path}

# Dry-run mode: if true, only print commands without executing
# Default: true (safe default)
DRY_RUN=true

# Pipeline timeout in seconds
# Default: 3600 (1 hour)
PIPELINE_TIMEOUT=3600

# ==============================================================================
# STATE AND LOGGING CONFIGURATION
# ==============================================================================

# State file location (for tracking processed recordings)
# Default: /app/data/state.json (Docker) or ./data/state.json (local)
STATE_FILE=/app/data/state.json

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Default: INFO
LOG_LEVEL=INFO

# ==============================================================================
# ADVANCED CONFIGURATION
# ==============================================================================

# DVR log file path (for log-based source, if implemented)
# Default: /var/log/channels-dvr.log
LOG_PATH=/share/CACHEDEV1_DATA/.qpkg/ChannelsDVR/channels-dvr.log

# API request timeout in seconds
# Default: 10
API_TIMEOUT=10
